# SymbolField HUD — Roadmap v0.3–v0.7 (Unified, Based on Vercel Build)

Этот роадмап объединяет все твои новые требования:

- Source → Core логика (боардинг, первичная материализация ядра)
- Обновления State Panel (mode/tone/glyph в кругах + тултипы)
- XP-механики (цвета, алхимия, glow, mandala, distance mapping)
- Temporal Dock (минимализм A + поведение B — временные орбиты + XP)
- Graph Mode как отдельная вкладка (пустой холст → Source → узлы → связи)
- Draggable windows + safe zones + glassmorphism

Все шаги максимально мелкие, чтобы их можно было выполнять ровно и постепенно.

---

## v0.301 — Visual Identity Prep (Palette + Modes + Dock)

**Цель:** выровнять визуальную систему под общий стиль SF.

**Что делаем:**

1. Определяем основную палитру HUD:
   - глубины: обсидиан-чёрный, графитовый, нейтральный уголь;
   - акценты: мягкие пастели (бирюза, тёплый песочный, бледно-фиолетовый);
   - свет: мягкое рассеянное свечение, низкая насыщенность;
   - контраст: умеренный, без жёстких белых.
2. Тон (tone) становится **акцентным (смотреть пункт акценты выше) цветом** всей системы:
   - обводка активных элементов;
   - glow на Core;
   - рамки окон в glassmorphism.
3. Мод (mode) определяет **фон-состояние системы**:
   - **deep** — пустотный, обсидиановый, холодный;
   - **flow** — кристально-нейтральный, лёгкий дзен;
   - luma — тёплый песочный, люменисцентный.
4. Glyph определяет **общий стиль иконографии** (на будущее: набор глиф-линий для UI).
5. Левая панель становится **центрованным доком**:
   - не на всю высоту экрана;
   - иконки выровнены по центру;
   - лёгкий glow от tone.

---

## v0.31 — HUD Core Identity + State Panel Cleanup

**Цель:** привести HUD к чистому базовому виду.

**Что делаем:**

1. Добавляем фирменный сигил вместо "SF" в левом доке (пока заглушка-глиф).
2. В State Panel убираем названия mode/tone/glyph из текста — оставляем слова **MODE / TONE / GLYPH** + их значения **в мини-кольцах**.
3. Tone: только цветовое кольцо + тултип с описанием эмоциональной составляющей.
4. Переносим State Panel ближе к левому верхнему углу.
5. Подготовка к Source → Core логике: временно Core остаётся как есть.

---

## v0.32 — Navigation Base (activeTab)

**Цель:** HUD — это один из модулей, а не единственный экран.

**Что делаем:**

1. Вводим `activeTab` в root.
2. Dock переключает HUD / Graph / Agent / Log / Settings.
3. Canvas рендерит разные сцены.
4. HUD становится модулем, а не всей страницей.

---

## v0.33 — Temporal Dock v0.1 (Minimal)

**Цель:** вынести время в минимальный нижний док.

**Что делаем:**

1. Внизу появляется минималистичный Temporal Dock.
2. Содержит: **NOW → DAY → WEEK → MONTH → YEAR**.
3. Клик по циклу меняет `temporalScope`.
4. Time Spiral пока не рисуем — только dock.

---

## v0.34 — Temporal Dock v0.2 (Orbits + XP Density) (отложено)

**Цель:** связать время и опыт.

**Что делаем:**

1. Для каждого выбранного масштаба считаем **XP density**, а не сумму.
2. XP-ноды меняют glow/mandala/distance пропорционально `normalizedDensity`.
3. На больших циклах glow не зашкаливает — всё нормализовано.
4. NOW узел превращается в мини-спираль дня (24 сегмента).

---

## v0.35 — Breath Pulse v0.1

**Цель:** ввести дыхательную анимацию.

**Что делаем:**

1. Вводим глобальный breath cycle (8 сек).
2. Core, Nav Dock и Temporal Dock слегка пульсируют.
3. Анимация мягкая, не мешающая UX.

---

## v0.36 — Draggable Windows v0.1

**Цель:** повысить интерактивность.

**Что делаем:**

1. Все панели и окна становятся draggable.
2. Drag только за header.
3. Позиция ограничена границами экрана.
4. Выравнивание по сетке + легкая магнитность.

---

## v0.37 — Deaggable Windows v 0.2 (Safe Zones + Glassmorphism)

**Цель:** окна двигаются красиво и безопасно.

**Что делаем:**

1. Запретные зоны:
   - центральная ось Core,
   - навигационный док,
   - нижний Temporal Dock,
   - верхний State Panel.
2. Если окно пересекает зону → мягкий auto-offset.
3. Окна получают стеклянный слой, цвет рамки = Tone.
4. Active-window glow.

---

## v0.4 — Graph Mode v0.1 (Entity + Source → Core)

**Цель:** ввести правильную модель нод (Entity/Component/State) и начало графа.

**Что делаем:**

1. Canvas рендерит **NodeEntity** (пустые контейнеры).
2. В центре появляется **SOURCE** — пульсирующее нейтральное кольцо.
3. Клик по SOURCE → материализация **Core-ноды** (см. Node Spec v0.32).
4. Single-click по ноде → **Properties Panel** (базовая форма).
5. Double-click → вход во вложенный патч.
6. Пустой Canvas → double-click → создаётся обычная нода.
7. Радиальное меню: Clone / Convert / Delete.

## v0.41 — Graph Mode v0.2 (Links + Ports + Gestures)

**Цель:** добавить UX соединений как в Node Spec.

**Что делаем:**

1. У нод появляются **порты** (4 стороны).
2. Drag-connect → создание связи.
3. Shift+Drag с края → создать новую ноду + автоматическая связь.
4. Hover edge → подсветка.
5. Click edge → удаление связи.
6. Info-hover: показывает компоненты ноды + XP-summary.
   — Graph Mode v0.2 (Links)

**Цель:** сделать связи.

**Что делаем:**

1. Shift+click A → click B → edge A–B.
2. Click edge → удаление.
3. Базовая анимация линий.

---

## v0.42 — Graph Mode v0.3 (Components + Add Component + Node Behavior)

**Цель:** граф становится живой системой, соответствующей Node Spec.

**Что делаем:**

1. В Properties Panel появляется **[ + Add Component ]**.
2. Компоненты для нод:
   - GlyphComponent (глиф ноды)
   - ToneComponent (цвет/акцент)
   - XPComponent (HP/EP/MP/SP/NP)
   - TemporalComponent (day/week/month)
   - ProcessComponent (морфинг/фильтры)
   - RitualComponent (дыхание/ритуальные моды)
3. Glow-ноды: glow = sqrt(xp) × modeCoefficient.
4. Tone влияет на свечение контуров.
5. Temporal меняет отображение ноды в зависимости от выбранного масштаба.
6. XP-матрица HUD становится **пресетом** для Graph Mode.

## v0.5 → v0.555 — Object Graph Integration&#x20;

**Цель:** HUD и Graph читают одно ядро.

**Что делаем:**

1. Типы: Space, XPLog, StateSnapshot, Session, Ritual, Glyph.
2. Queries:
   - `getXpSummary(spaceId)`
   - `getStateTimeline(spaceId, range)`
   - `getGraphEgo(nodeId, depth)`
3. HUD использует эти данные вместо моков.

---

## v0.6 — Unified SymbolField HUD

**Цель:** HUD + Graph = два взгляда на одну реальность.

**Что делаем:**

1. HUD Dashboard использует те же store/queries.
2. Клик по Core в HUD → фокус на Core в Graph.
3. Выбор ноды в Graph подсвечивает её в HUD.

---

## v0.7+ — Polish / Stability Pass

Финальный цикл чистки:

- анимации,
- тайминги,
- чёткость линий,
- прозрачность стекла,
- UX-подсказки,
- контраст.

HUD становится цельной живой системой.

