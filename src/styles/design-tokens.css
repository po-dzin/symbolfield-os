/**
 * SFOS Foundation Tokens v0.1
 * Source: SFOS_FOUNDATIONS_SPEC_v0.1
 * Layered Architecture: Primitives -> Semantic -> Component
 */

:root {
  /* ========================================================================
   * 1. PRIMITIVES LAYER
   * Raw values from the design system. Do not use directly in components.
   * ======================================================================== */

  /* 1.1 Color Primitives: Neutrals (Deep Contrast) */
  --primitive-color-n0-deepest: #000000;
  --primitive-color-n1-bg: #050505;
  /* Back to almost pure black */
  --primitive-color-n2-surface: #121212;
  /* Slightly lighter for panels */
  --primitive-color-n3-border: #222222;

  --primitive-color-text-primary: #EDECE8;
  --primitive-color-text-secondary: #98989D;
  --primitive-color-text-muted: #636366;

  /* 1.2 Color Primitives: Accents (Warm Gold Primary) */
  --primitive-color-accent-gold: #D4AF37;
  --primitive-color-accent-gold-dim: #997F29;
  --primitive-color-accent-cyan: #6FE4FF;
  /* Kept for legacy/info */
  --primitive-color-accent-rose: #E09F9F;
  --primitive-color-accent-sage: #9CAD98;

  /* 1.3 Color Primitives: State/Tone Aliases */
  --primitive-color-state-calm: var(--primitive-color-accent-gold);
  --primitive-color-state-imaginal: var(--primitive-color-accent-rose);
  --primitive-color-state-drive: var(--primitive-color-accent-gold);
  --primitive-color-state-void: var(--primitive-color-n0-deepest);

  /* 1.4 Color Primitives: Utility */
  --primitive-color-utility-success: #8FB57D;
  /* Warmer green */
  --primitive-color-utility-warning: #D4AF37;
  /* Gold matches warning */
  --primitive-color-utility-info: #6B9AC4;
  /* Muted blue */

  /* 1.5 Primitives: Size */
  --primitive-size-layout-step: 8px;
  --primitive-size-bar-height: 56px;
  --primitive-size-bar-icon: 20px;
  --primitive-size-dock-width: 56px;
  --primitive-size-control-size: 32px;
  --primitive-size-panel-width-sm: 280px;
  --primitive-size-panel-width-md: 320px;
  --primitive-size-panel-width-lg: 360px;
  --primitive-size-drawer-min: 240px;
  --primitive-size-drawer-max: 640px;

  /* 1.6 Primitives: Space */
  --primitive-space-bar-pad-x: 20px;
  --primitive-space-bar-pad-y: 12px;
  --primitive-space-bar-gap: 12px;
  --primitive-space-panel-padding: 24px;
  --primitive-space-gap-dense: 4px;
  --primitive-space-gap-default: 8px;
  --primitive-space-gap-section-min: 12px;
  --primitive-space-gap-section-max: 16px;

  /* 1.7 Primitives: Radius */
  --primitive-radius-panel: 24px;
  --primitive-radius-card: 14px;
  --primitive-radius-input: 12px;
  --primitive-radius-pill: 9999px;

  /* 1.8 Primitives: Type */
  --primitive-font-ui: "Inter", system-ui, sans-serif;
  --primitive-font-mono: "JetBrains Mono", monospace;

  --primitive-type-body-size: 14px;
  --primitive-type-body-line: 20px;

  --primitive-type-small-size: 12px;
  --primitive-type-small-line: 16px;

  --primitive-type-label-size: 11px;
  --primitive-type-label-line: 14px;

  --primitive-type-h6-size: 16px;
  --primitive-type-h6-line: 22px;

  --primitive-type-h5-size: 18px;
  --primitive-type-h5-line: 24px;

  /* 1.9 Primitives: Motion */
  --primitive-motion-duration-fast: 120ms;
  --primitive-motion-duration-normal: 180ms;
  --primitive-motion-duration-slow: 240ms;
  --primitive-motion-ease-standard: cubic-bezier(0.2, 0.8, 0.2, 1);

  /* 1.10 Primitives: Z-Index */
  --primitive-z-0-field: 0;
  --primitive-z-1-overlay: 1;
  --primitive-z-2-tool: 2;
  --primitive-z-3-drawers: 3;
  --primitive-z-4-context: 4;
  --primitive-z-5-shell: 5;

  /* ========================================================================
   * 2. SEMANTIC LAYER
   * Role-based tokens used in application code.
   * ======================================================================== */

  /* Backgrounds */
  --semantic-color-bg-app: var(--primitive-color-n1-bg);
  --semantic-color-bg-surface: var(--primitive-color-n2-surface);
  --semantic-color-bg-surface-hover: color-mix(in srgb, var(--semantic-color-bg-surface), var(--semantic-color-text-primary) 6%);

  /* Borders */
  /* Borders */
  --semantic-color-border-default: var(--primitive-color-n3-border);
  --semantic-color-border-subtle: rgba(255, 255, 255, 0.08);
  --semantic-color-border-active: var(--theme-border-active);

  /* Text */
  --semantic-color-text-primary: var(--primitive-color-text-primary);
  --semantic-color-text-secondary: var(--primitive-color-text-secondary);
  --semantic-color-text-muted: var(--primitive-color-text-muted);

  /* Actions */
  --semantic-color-action-primary: var(--primitive-color-accent-gold);
  --semantic-color-action-secondary: var(--primitive-color-accent-rose);
  --semantic-color-action-tertiary: var(--primitive-color-accent-sage);
  --semantic-color-action-on-primary: #121212;
  --semantic-color-link: var(--semantic-color-action-primary);

  /* Graph Semantics */
  --semantic-color-graph-node-fill: rgba(255, 255, 255, 0.06);
  --semantic-color-graph-node-stroke: rgba(255, 255, 255, 0.36);
  --semantic-color-graph-node-glow: rgba(255, 255, 255, 0.12);
  --semantic-color-graph-node-glyph: rgba(255, 255, 255, 0.9);
  --semantic-color-graph-node-active-stroke: var(--theme-border-active);
  --semantic-color-graph-edge: rgba(255, 255, 255, 0.34);
  --semantic-color-graph-edge-strong: rgba(255, 255, 255, 0.52);
  --semantic-color-graph-edge-active: color-mix(in srgb, var(--theme-border-active), white 22%);

  /* Theme Variables (Dynamic) */
  --theme-noise-opacity: 0.03;
  --theme-glass-opacity: 0.7;
  --theme-glow-strength: 0.5;
  --theme-border-active: var(--primitive-color-accent-gold);

  /* Status */
  --semantic-color-status-success: var(--primitive-color-utility-success);
  --semantic-color-status-warning: var(--primitive-color-utility-warning);
  --semantic-color-status-info: var(--primitive-color-utility-info);
  --semantic-color-status-error: #B86A63;

  /* Font Styles */
  --semantic-font-family-ui: var(--primitive-font-ui);
  --semantic-font-family-mono: var(--primitive-font-mono);

  /* ========================================================================
   * 3. COMPONENT LAYER
   * Specific component overrides and contracts.
   * ======================================================================== */

  /* TopBar */
  --component-topbar-height: var(--primitive-size-bar-height);
  --component-topbar-pad-x: var(--primitive-space-bar-pad-x);
  --component-topbar-pad-y: var(--primitive-space-bar-pad-y);

  /* Drawers/Panels */
  --component-drawer-width-default: var(--primitive-size-panel-width-md);
  --component-panel-radius: var(--primitive-radius-panel);
  --component-panel-padding: var(--primitive-space-panel-padding);

  /* Buttons */
  --component-button-height-md: 36px;
  --component-button-height-sm: 32px;
  --component-button-height-lg: 40px;

  /* Capsule System (unified segmented/pill controls) */
  --component-capsule-height-compact: 32px;
  --component-capsule-item-height-compact: 24px;
  --component-capsule-height-default: 44px;
  --component-capsule-item-height-default: 34px;
  --component-capsule-pad: 4px;
  --component-capsule-gap: 6px;
  --component-shape-pill: var(--primitive-radius-pill);
  --component-shape-soft: var(--primitive-radius-input);
  --component-shape-card: var(--primitive-radius-card);

  /* Inputs */
  --component-input-height-default: 36px;
  --component-input-radius: var(--primitive-radius-input);

  /* Hit Targets */
  --component-hit-icon-min: 36px;
  --component-hit-primary-min: 40px;

  /* Z-Index (Stacking Order) */
  --component-z-topbar: 50;
  --component-z-rail: 15;
  --component-z-drawer: 10;
  --component-z-overlay: 5;
  --component-z-omni: 100;
  --component-z-modal: 100;

  /* Drawer System */
  --component-drawer-width-default: 360px;
  --component-drawer-width-min: 280px;
  --component-drawer-width-max: 480px;

  /* Omni Overlay */
  --component-omni-width: 600px;
  --component-omni-backdrop: rgba(0, 0, 0, 0.6);

  /* SideRail */
  --component-rail-width: 48px;

  /* Motion System (aligned with SFOS_FOUNDATIONS_SPEC_v0.1) */
  --motion-duration-fast: 120ms;
  --motion-duration-normal: 180ms;
  --motion-duration-slow: 240ms;
  --motion-easing-standard: cubic-bezier(0.2, 0.8, 0.2, 1);
  --motion-easing-decelerate: cubic-bezier(0.0, 0.0, 0.2, 1);
  --motion-system-speed: 1;
  --motion-system-base-ms: 220ms;
  --motion-close-delay-ms: 220ms;
  --motion-rail-close-delay-ms: 220ms;
  --motion-camera-focus-ms: 704ms;
  --motion-camera-scope-ms: 418ms;
  --motion-camera-undo-ms: 299ms;
  --motion-camera-fit-delay-ms: 121ms;

  /* Legacy Support (to be migrated) */
  --panel-padding: var(--component-panel-padding);
  --panel-radius: var(--component-panel-radius);
}

/* Light Mode Override (v0.1 Baseline) */
:root[data-theme="light"] {
  --semantic-color-bg-app: #F1EDE4;
  --semantic-color-bg-surface: #FBF7F0;
  --semantic-color-bg-surface-hover: #EFE7DB;
  --semantic-color-border-default: #D8CCBC;
  --semantic-color-border-subtle: rgba(34, 29, 24, 0.12);

  --semantic-color-text-primary: #201C17;
  --semantic-color-text-secondary: #5B5348;
  --semantic-color-text-muted: #888073;

  --semantic-color-action-primary: #B79A7D;
  --semantic-color-action-secondary: #C99A87;
  --semantic-color-action-tertiary: #94A98D;
  --semantic-color-action-on-primary: #201C17;
  --semantic-color-link: #9D7F62;

  --semantic-color-graph-node-fill: rgba(43, 34, 25, 0.09);
  --semantic-color-graph-node-stroke: rgba(61, 50, 38, 0.34);
  --semantic-color-graph-node-glow: rgba(61, 50, 38, 0.16);
  --semantic-color-graph-node-glyph: rgba(43, 34, 25, 0.9);
  --semantic-color-graph-node-active-stroke: #A98A6C;
  --semantic-color-graph-edge: rgba(70, 59, 46, 0.22);
  --semantic-color-graph-edge-strong: rgba(70, 59, 46, 0.34);
  --semantic-color-graph-edge-active: #A98A6C;

  --semantic-color-status-success: #7FA48D;
  --semantic-color-status-warning: #C6975F;
  --semantic-color-status-info: #6E89AA;
  --semantic-color-status-error: #B86A63;

  --theme-border-active: #B79A7D;
  --theme-glass-opacity: 0.86;
  --theme-noise-opacity: 0.018;
  --theme-glow-strength: 0.22;
}
